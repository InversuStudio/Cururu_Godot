[gd_scene load_steps=55 format=3 uid="uid://nohq28uk7lfk"]

[ext_resource type="Script" uid="uid://cfu4ciwll8jcj" path="res://Scripts/Cururu.gd" id="1_asluq"]
[ext_resource type="Texture2D" uid="uid://oueeifn344de" path="res://Sprites/Cururu/Idle/01.png" id="1_sqf2x"]
[ext_resource type="Texture2D" uid="uid://g0sntps8nmbd" path="res://Sprites/Cururu/Idle/02.png" id="2_asluq"]
[ext_resource type="Texture2D" uid="uid://cnj5thpgkvv23" path="res://Sprites/Cururu/Pulo/4.png" id="2_igkqb"]
[ext_resource type="Texture2D" uid="uid://ckhr6xysd1748" path="res://Sprites/Cururu/Pulo/1.png" id="5_o3utp"]
[ext_resource type="Texture2D" uid="uid://bcmpceltuv7om" path="res://Sprites/Cururu/Pulo/2.png" id="6_p4wm8"]
[ext_resource type="Texture2D" uid="uid://374vii38ugep" path="res://Sprites/Cururu/Pulo/3.png" id="7_jxeb6"]
[ext_resource type="Texture2D" uid="uid://6waqj22kj7vk" path="res://Sprites/Cururu/Pulo/5.png" id="8_u1qnh"]
[ext_resource type="Texture2D" uid="uid://cwihk6wsxfi67" path="res://Sprites/Cururu/Pulo/6.png" id="9_8hqes"]
[ext_resource type="Texture2D" uid="uid://bfd8dyt3xsbs" path="res://Sprites/Cururu/Run/1.png" id="10_bg1am"]
[ext_resource type="Texture2D" uid="uid://da56a8ouefnh0" path="res://Sprites/Cururu/Melee/01.png" id="10_e7e5s"]
[ext_resource type="Texture2D" uid="uid://btrq28uf3nshw" path="res://Sprites/Cururu/Magia/01.png" id="10_js0c4"]
[ext_resource type="Texture2D" uid="uid://b13yxab66ve2s" path="res://Sprites/Cururu/Melee/02.png" id="11_prtj7"]
[ext_resource type="Texture2D" uid="uid://bnmshxa17gou7" path="res://Sprites/Cururu/Magia/02.png" id="11_xx3r0"]
[ext_resource type="Texture2D" uid="uid://4g67xd644aev" path="res://Sprites/Cururu/Run/2.png" id="11_yjcfq"]
[ext_resource type="Texture2D" uid="uid://xalr154lfpix" path="res://Sprites/Cururu/Melee/03.png" id="12_8v2dh"]
[ext_resource type="Texture2D" uid="uid://b13t8yqr8jutj" path="res://Sprites/Cururu/Magia/03.png" id="12_ren7w"]
[ext_resource type="Texture2D" uid="uid://smseucq1udn1" path="res://Sprites/Cururu/Run/3.png" id="12_xfyby"]
[ext_resource type="Texture2D" uid="uid://bk50ktfh8vvds" path="res://Sprites/Cururu/Magia/04.png" id="13_buhp1"]
[ext_resource type="Texture2D" uid="uid://dyoqghu88374l" path="res://Sprites/Cururu/Run/4.png" id="13_e7e5s"]
[ext_resource type="Texture2D" uid="uid://db18wnpxgwosm" path="res://Sprites/Cururu/Melee/04.png" id="13_rpndr"]
[ext_resource type="Texture2D" uid="uid://cer7wfxkxaems" path="res://Sprites/Cururu/Melee/05.png" id="14_g0l4m"]
[ext_resource type="Texture2D" uid="uid://bdstuu5v57h56" path="res://Sprites/Cururu/Magia/05.png" id="14_gop6h"]
[ext_resource type="Texture2D" uid="uid://c288v371veon" path="res://Sprites/Cururu/Run/5.png" id="14_prtj7"]
[ext_resource type="Texture2D" uid="uid://d14w2r75avcbe" path="res://Sprites/Cururu/Melee/06.png" id="15_7ba70"]
[ext_resource type="Texture2D" uid="uid://buo8arlmdbube" path="res://Sprites/Cururu/Run/6.png" id="15_8v2dh"]
[ext_resource type="Texture2D" uid="uid://bw4y8414tr7wg" path="res://Sprites/Cururu/Magia/06.png" id="15_m0h4l"]
[ext_resource type="Texture2D" uid="uid://rbeyv4lpxncr" path="res://Sprites/Cururu/Magia/07.png" id="16_qvgo3"]
[ext_resource type="Texture2D" uid="uid://b4rkkf6c11cxg" path="res://Sprites/Cururu/Run/7.png" id="16_rpndr"]
[ext_resource type="Texture2D" uid="uid://1gd71hpyeid3" path="res://Sprites/Cururu/Melee/07.png" id="16_yd0lm"]
[ext_resource type="Texture2D" uid="uid://ih4uq0k4wybx" path="res://Sprites/Cururu/Melee/08.png" id="17_djev5"]
[ext_resource type="Texture2D" uid="uid://b3ldrsqqg8jow" path="res://Sprites/Cururu/Run/8.png" id="17_g0l4m"]
[ext_resource type="Texture2D" uid="uid://b63h14rbag2ci" path="res://Sprites/Cururu/Magia/08.png" id="17_o5r5q"]
[ext_resource type="Texture2D" uid="uid://dnyyp5db2hpj7" path="res://Sprites/Cururu/Magia/09.png" id="18_4muok"]
[ext_resource type="Texture2D" uid="uid://mpoan00rbfws" path="res://Sprites/Cururu/Run/9.png" id="18_7ba70"]
[ext_resource type="Texture2D" uid="uid://bx0odhtfbvdc" path="res://Sprites/Cururu/Magia/10.png" id="19_eeeko"]
[ext_resource type="Texture2D" uid="uid://cgojsc8x3iriq" path="res://Sprites/Cururu/Run/10.png" id="19_yd0lm"]
[ext_resource type="PackedScene" uid="uid://dye4iyc8e4ryy" path="res://Objetos/CompVida.tscn" id="20_o3utp"]
[ext_resource type="PackedScene" uid="uid://va5pjd6vuuo2" path="res://Objetos/CompHurtBox.tscn" id="29_7ba70"]
[ext_resource type="Script" uid="uid://cerjc6sna0dxs" path="res://Scripts/StateMachine/StateMachine.gd" id="29_8v2dh"]
[ext_resource type="Script" uid="uid://dmpgwk6x2wyq6" path="res://Scripts/StateMachine/Chao.gd" id="29_prtj7"]
[ext_resource type="Script" uid="uid://dqm1rg2yvcp87" path="res://Scripts/StateMachine/Fall.gd" id="31_g0l4m"]
[ext_resource type="Script" uid="uid://c1tkv8brk85ke" path="res://Scripts/StateMachine/Pulo.gd" id="32_7ba70"]
[ext_resource type="AudioStream" uid="uid://dhgsnus0fna7q" path="res://Audio/SOM TESTE.mp3" id="40_xx3r0"]

[sub_resource type="SpriteFrames" id="SpriteFrames_t2cfw"]
animations = [{
"frames": [{
"duration": 1.0,
"texture": ExtResource("2_igkqb")
}],
"loop": true,
"name": &"Fall",
"speed": 5.0
}, {
"frames": [{
"duration": 1.0,
"texture": ExtResource("1_sqf2x")
}, {
"duration": 1.0,
"texture": ExtResource("2_asluq")
}],
"loop": true,
"name": &"Idle",
"speed": 3.0
}, {
"frames": [{
"duration": 1.0,
"texture": ExtResource("5_o3utp")
}, {
"duration": 1.0,
"texture": ExtResource("6_p4wm8")
}, {
"duration": 1.0,
"texture": ExtResource("7_jxeb6")
}],
"loop": true,
"name": &"Jump",
"speed": 13.0
}, {
"frames": [{
"duration": 1.0,
"texture": ExtResource("8_u1qnh")
}, {
"duration": 1.0,
"texture": ExtResource("9_8hqes")
}],
"loop": true,
"name": &"Land",
"speed": 13.0
}, {
"frames": [{
"duration": 1.0,
"texture": ExtResource("10_js0c4")
}, {
"duration": 1.0,
"texture": ExtResource("11_xx3r0")
}, {
"duration": 1.0,
"texture": ExtResource("12_ren7w")
}, {
"duration": 1.0,
"texture": ExtResource("13_buhp1")
}, {
"duration": 1.0,
"texture": ExtResource("14_gop6h")
}, {
"duration": 1.0,
"texture": ExtResource("15_m0h4l")
}, {
"duration": 1.0,
"texture": ExtResource("16_qvgo3")
}, {
"duration": 1.0,
"texture": ExtResource("17_o5r5q")
}, {
"duration": 1.0,
"texture": ExtResource("18_4muok")
}, {
"duration": 1.0,
"texture": ExtResource("19_eeeko")
}],
"loop": true,
"name": &"Magia",
"speed": 13.0
}, {
"frames": [{
"duration": 1.0,
"texture": ExtResource("10_e7e5s")
}, {
"duration": 1.0,
"texture": ExtResource("11_prtj7")
}, {
"duration": 1.0,
"texture": ExtResource("12_8v2dh")
}, {
"duration": 1.0,
"texture": ExtResource("13_rpndr")
}],
"loop": true,
"name": &"Melee1",
"speed": 13.0
}, {
"frames": [{
"duration": 1.0,
"texture": ExtResource("14_g0l4m")
}, {
"duration": 1.0,
"texture": ExtResource("15_7ba70")
}, {
"duration": 1.0,
"texture": ExtResource("16_yd0lm")
}, {
"duration": 1.0,
"texture": ExtResource("17_djev5")
}],
"loop": true,
"name": &"Melee2",
"speed": 13.0
}, {
"frames": [{
"duration": 1.0,
"texture": ExtResource("10_bg1am")
}, {
"duration": 1.0,
"texture": ExtResource("11_yjcfq")
}, {
"duration": 1.0,
"texture": ExtResource("12_xfyby")
}, {
"duration": 1.0,
"texture": ExtResource("13_e7e5s")
}, {
"duration": 1.0,
"texture": ExtResource("14_prtj7")
}, {
"duration": 1.0,
"texture": ExtResource("15_8v2dh")
}, {
"duration": 1.0,
"texture": ExtResource("16_rpndr")
}, {
"duration": 1.0,
"texture": ExtResource("17_g0l4m")
}, {
"duration": 1.0,
"texture": ExtResource("18_7ba70")
}, {
"duration": 1.0,
"texture": ExtResource("19_yd0lm")
}],
"loop": true,
"name": &"Run",
"speed": 14.0
}]

[sub_resource type="CapsuleShape2D" id="CapsuleShape2D_qakxq"]
radius = 44.0
height = 200.0

[sub_resource type="Animation" id="Animation_rpndr"]
resource_name = "Fall"
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("Cururu:animation")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [&"Fall"]
}
tracks/1/type = "value"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath("Cururu:frame")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [0]
}

[sub_resource type="Animation" id="Animation_e7e5s"]
resource_name = "Idle"
length = 0.6
loop_mode = 1
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("Cururu:animation")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [&"Idle"]
}
tracks/1/type = "value"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath("Cururu:frame")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"times": PackedFloat32Array(0, 0.3),
"transitions": PackedFloat32Array(1, 1),
"update": 1,
"values": [0, 1]
}

[sub_resource type="Animation" id="Animation_8v2dh"]
resource_name = "Jump"
length = 0.1
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("Cururu:animation")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [&"Jump"]
}
tracks/1/type = "value"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath("Cururu:frame")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"times": PackedFloat32Array(0, 0.0333333, 0.0666667),
"transitions": PackedFloat32Array(1, 1, 1),
"update": 1,
"values": [0, 1, 2]
}

[sub_resource type="Animation" id="Animation_7ba70"]
resource_name = "Melee1"
length = 0.4
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("Cururu:animation")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [&"Melee1"]
}
tracks/1/type = "value"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath("Cururu:frame")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"times": PackedFloat32Array(0, 0.1, 0.2, 0.3),
"transitions": PackedFloat32Array(1, 1, 1, 1),
"update": 1,
"values": [0, 1, 2, 3]
}
tracks/2/type = "method"
tracks/2/imported = false
tracks/2/enabled = true
tracks/2/path = NodePath("StateMachine/Chao")
tracks/2/interp = 1
tracks/2/loop_wrap = true
tracks/2/keys = {
"times": PackedFloat32Array(0.4),
"transitions": PackedFloat32Array(1),
"values": [{
"args": [],
"method": &"Reset_Ataque"
}]
}

[sub_resource type="Animation" id="Animation_yd0lm"]
resource_name = "Melee2"
length = 0.4
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("Cururu:animation")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [&"Melee2"]
}
tracks/1/type = "value"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath("Cururu:frame")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"times": PackedFloat32Array(0, 0.1, 0.2, 0.3),
"transitions": PackedFloat32Array(1, 1, 1, 1),
"update": 1,
"values": [0, 1, 2, 3]
}
tracks/2/type = "method"
tracks/2/imported = false
tracks/2/enabled = true
tracks/2/path = NodePath("StateMachine/Chao")
tracks/2/interp = 1
tracks/2/loop_wrap = true
tracks/2/keys = {
"times": PackedFloat32Array(0.4),
"transitions": PackedFloat32Array(1),
"values": [{
"args": [],
"method": &"Reset_Ataque"
}]
}

[sub_resource type="Animation" id="Animation_g0l4m"]
length = 0.001
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("Cururu:frame")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [1]
}

[sub_resource type="Animation" id="Animation_prtj7"]
resource_name = "Run"
loop_mode = 1
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("Cururu:animation")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [&"Run"]
}
tracks/1/type = "value"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath("Cururu:frame")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"times": PackedFloat32Array(0, 0.1, 0.2, 0.3, 0.4, 0.5, 0.6, 0.7, 0.8, 0.9),
"transitions": PackedFloat32Array(1, 1, 1, 1, 1, 1, 1, 1, 1, 1),
"update": 1,
"values": [0, 1, 2, 3, 4, 5, 6, 7, 8, 9]
}

[sub_resource type="AnimationLibrary" id="AnimationLibrary_g0l4m"]
_data = {
&"Fall": SubResource("Animation_rpndr"),
&"Idle": SubResource("Animation_e7e5s"),
&"Jump": SubResource("Animation_8v2dh"),
&"Melee1": SubResource("Animation_7ba70"),
&"Melee2": SubResource("Animation_yd0lm"),
&"RESET": SubResource("Animation_g0l4m"),
&"Run": SubResource("Animation_prtj7")
}

[node name="Player" type="CharacterBody2D" node_paths=PackedStringArray("vida", "hurtbox", "state_machine")]
script = ExtResource("1_asluq")
speed = 60.0
air_speed = 45.0
jump_force = 60.0
fall_gravity = 40.0
vida = NodePath("Vida")
hurtbox = NodePath("HurtBox")
state_machine = NodePath("StateMachine")

[node name="Cururu" type="AnimatedSprite2D" parent="."]
unique_name_in_owner = true
position = Vector2(0, -110)
scale = Vector2(0.5, 0.5)
sprite_frames = SubResource("SpriteFrames_t2cfw")
animation = &"Idle"
frame = 1

[node name="CollisionShape2D" type="CollisionShape2D" parent="."]
position = Vector2(0, -100)
shape = SubResource("CapsuleShape2D_qakxq")

[node name="Vida" parent="." instance=ExtResource("20_o3utp")]
vida_max = 1000

[node name="HurtBox" parent="." node_paths=PackedStringArray("comp_vida") instance=ExtResource("29_7ba70")]
comp_vida = NodePath("../Vida")
hit_sfx = ExtResource("40_xx3r0")

[node name="CollisionShape2D" type="CollisionShape2D" parent="HurtBox"]
position = Vector2(5.5, -74)
rotation = -1.57079

[node name="Anim" type="AnimationPlayer" parent="."]
unique_name_in_owner = true
libraries = {
&"": SubResource("AnimationLibrary_g0l4m")
}
autoplay = "Idle"

[node name="Coyote" type="Timer" parent="."]
unique_name_in_owner = true
wait_time = 0.15

[node name="MeleeTime" type="Timer" parent="."]
unique_name_in_owner = true
wait_time = 0.3
one_shot = true

[node name="StateMachine" type="Node" parent="." node_paths=PackedStringArray("start_state")]
unique_name_in_owner = true
script = ExtResource("29_8v2dh")
start_state = NodePath("Fall")

[node name="Chao" type="Node" parent="StateMachine" node_paths=PackedStringArray("pulo_state", "fall_state")]
script = ExtResource("29_prtj7")
pulo_state = NodePath("../Pulo")
fall_state = NodePath("../Fall")

[node name="Fall" type="Node" parent="StateMachine" node_paths=PackedStringArray("chao_state")]
script = ExtResource("31_g0l4m")
chao_state = NodePath("../Chao")

[node name="Pulo" type="Node" parent="StateMachine" node_paths=PackedStringArray("fall_state")]
script = ExtResource("32_7ba70")
fall_state = NodePath("../Fall")

[node name="WallSlide" type="Node" parent="StateMachine"]

[node name="Nadando" type="Node" parent="StateMachine"]
